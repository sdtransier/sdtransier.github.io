<!DOCTYPE html>
<html lang=en-us>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
        <meta name="description" content="The informational website for the Temple Inn & Suites Hotel Chain.">
        
        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Merriweather%7CMontserrat" rel="stylesheet">
        
        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/normalize.css">     
        <link rel="stylesheet" href="css/style.css">

        <title>Temples | Temple Inn & Suites</title>
    </head>
    <body>
        <header>
            <img src="images/moroni-logo.png" alt="Angel Moroni Logo">
            <div class="headings">
                <h1>Temple Inn & Suites</h1>
            </div>
        </header>
        <nav>
            <ul id="primaryNav" class="">
                <li><a href="index.html">Home</a></li>
                <li class="active"><a href="#">Temples</a></li>
                <li><a href="reservation.html">Reservations</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="reception.html">Receptions</a></li>
                <li><a href="missionaries.html">Missionaries</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <main>
            <section>
                <!-- Space for JSON input -->
            </section>
        </main>
        <footer>
            <p>&copy; 2019 Temple Inn & Suites | Attributions | Created by Transier Consulting</p>
        </footer>

        <script>
        let section = document.querySelector('section');
        
        // Obtain the JSON
        let requestURL = 'https://spencertransier.github.io/assignments/term-project/json/templeInfo.json';
        let request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();

        request.onload = function() {
            let templeList = request.response;
            showTemples(templeList);
        }

        // Create the hero information cards
        function showTemples(jsonObj) {
            let temple = jsonObj['temples'];

            for (let i = 0; i < temple.length; i++) {
                let myArticle = document.createElement('article');
                let myH2 = document.createElement('h2');
                let myPara1 = document.createElement('p');
                let myPara2 = document.createElement('p');
                let myPara3 = document.createElement('p');
                let myList = document.createElement('ul');
                let myPara4 = document.createElement('p');
                let myList2 = document.createElement('ul');
                let myPara5 = document.createElement('p');
                let myList3 = document.createElement('ul');
                let myPara6 = document.createElement('p');
                let myPara7 = document.createElement('p');
                let myImage = document.createElement('img');

                myH2.textContent = temple[i].templeName;
                myPara1.textContent = 'Address: ' + temple[i].address;
                myPara2.textContent = 'Telephone: ' + temple[i].telephone;
                myPara3.textContent = 'Services: ';
                
                let serviceList = temple[i].services;
                for (let j = 0; j < serviceList.length; j++) {
                    let listItem = document.createElement('li');
                    listItem.textContent = serviceList[j];
                    myList.appendChild(listItem);
                }

                myPara4.textContent = 'Session Schedule: ';
                
                let scheduleList = temple[i].sessionSchedule;
                for (let j = 0; j < scheduleList.length; j++) {
                    let listItem = document.createElement('li');
                    listItem.textContent = scheduleList[j];
                    myList2.appendChild(listItem);
                }

                myPara5.textContent = 'Closure Schedule: ';
                
                let closureList = temple[i].closureSchedule;
                for (let j = 0; j < closureList.length; j++) {
                    let listItem = document.createElement('li');
                    listItem.textContent = closureList[j];
                    myList3.appendChild(listItem);
                }

                myPara6.textContent = 'History: ' + temple[i].history;
                myPara7.textContent = 'Weather: ' + temple[i].weather;
                myImage.setAttribute("src", temple[i].imagePath);
                myImage.setAttribute("alt", temple[i].templeName);


                myArticle.appendChild(myH2);
                myArticle.appendChild(myPara1);
                myArticle.appendChild(myPara2);
                myArticle.appendChild(myPara3);
                myArticle.appendChild(myList);
                myArticle.appendChild(myPara4);
                myArticle.appendChild(myList2);
                myArticle.appendChild(myPara5);
                myArticle.appendChild(myList3);
                myArticle.appendChild(myPara6);
                myArticle.appendChild(myPara7);
                myArticle.appendChild(myImage);


                section.appendChild(myArticle);
            }
        }
    </script>
    </body>
</html>